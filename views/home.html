<!DOCTYPE html>

<html lang="pt" dir="ltr">

    <head>
        {include="pages/header"}
        <style>
            #btn-filter{
                background-color: #d85c15;
            }

            #btn-filter:hover{
                background-color: #d85c15;
            }
        </style>

<style>
    .container-img{
        position: relative;
    }

    .card-img-top{
        display: block !important;
    }

    .overlay{
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        height: 100%;
        width: 100%;
        opacity: 0;
        transition: .5s ease;
        background-color: #d84315ba;
    }

    .card:hover .overlay {
        opacity: 1;
        cursor: pointer;
    }

    .text {
        color: white;
        font-size: 20px;
        position: absolute;
        top: 50%;
        left: 50%;
        -webkit-transform: translate(-50%, -50%);
        -ms-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
        text-align: center;
    }
    </style>
    </head>

    <body>
        {include="pages/navbar"}


        <div class="container">
            <div class="row">
                <button id="btn-filter" class="btn btn-danger btn-block mt-3 mx-3 d-md-none"> Filtrar </button>

                <div class="col-3 p-3 d-none d-md-block">
                    {include="pages/sidebar"}
                </div>
                <!-- col-3 -->

                <div class="col">
                    <div class="row pt-3" id="view-publicacoes"></div>

                    <nav aria-label="Page navigation example">
                            
                        <ul class="pagination" id="pagination">
                                
                        </ul>
                      </nav>
                    <!-- row publicacao -->

                    

                </div>
                <!-- col-9 -->

            </div>
            <!-- row -->

            
        </div>
        <!-- container-fluid -->
        {include="pages/footer"}
        <script src="/res/js/view/PublicacoesView.js"></script>
        <script src="/res/js/controller/HomeController.js"></script>
        <script>

        let homeController = new HomeController();

/* * * * * * * * * * * * * * * * *
* Pagination
* javascript page navigation
* * * * * * * * * * * * * * * * */

var Pagination = {

code: '',

// --------------------
// Utility
// --------------------

// converting initialize data
Extend: function(data) {
data = data || {};
Pagination.size = data.size || 300;
Pagination.page = data.page || 1;
Pagination.step = data.step || 3;
},

// add pages by number (from [s] to [f])
Add: function(s, f) {
for (var i = s; i < f; i++) {
Pagination.code += ` <li class="page-item"><a class="page-link" href="#">${i}</a></li>`;
}
},

// add last page with separator
Last: function() {
Pagination.code += `<li class="page-item disabled"><a class="page-link" href="#"> ... </a></li><li class="page-item"><a class="page-link" href="#">${Pagination.size}</a></li>`;
},

// add first page with separator
First: function() {
Pagination.code += ` <li class="page-item"><a class="page-link" href="#">${1}</a></li> <li class="page-item disabled"><a class="page-link" href="#"> ... </a></li>`;
},



// --------------------
// Handlers
// --------------------

// change page
Click: function() {
Pagination.page = +this.innerHTML;
Pagination.Start();
},

// previous page
Prev: function() {
Pagination.page--;
if (Pagination.page < 1) {
Pagination.page = 1;
}
Pagination.Start();
},

// next page
Next: function() {
Pagination.page++;
if (Pagination.page > Pagination.size) {
Pagination.page = Pagination.size;
}
Pagination.Start();
},



// --------------------
// Script
// --------------------

// binding pages
Bind: function() {
var a = Pagination.e.getElementsByTagName('a');
for (var i = 0; i < a.length; i++) {
if (+a[i].innerHTML === Pagination.page) a[i].parentElement.className = 'page-item active';
a[i].addEventListener('click', Pagination.Click, false);
}
},

// write pagination
Finish: function() {
Pagination.e.innerHTML = Pagination.code;
Pagination.code = '';
Pagination.Bind();
Pagination.Buttons();


},

// find pagination type
Start: function() {
if (Pagination.size < Pagination.step * 2 + 6) {
Pagination.Add(1, Pagination.size + 1);
}
else if (Pagination.page < Pagination.step * 2 + 1) {
Pagination.Add(1, Pagination.step * 2 + 4);
Pagination.Last();
}
else if (Pagination.page > Pagination.size - Pagination.step * 2) {
Pagination.First();
Pagination.Add(Pagination.size - Pagination.step * 2 - 2, Pagination.size + 1);
}
else {
Pagination.First();
Pagination.Add(Pagination.page - Pagination.step, Pagination.page + Pagination.step + 1);
Pagination.Last();
}
Pagination.Finish();
},



// --------------------
// Initialization
// --------------------

// binding buttons
Buttons: function() {
// var nav = e.getElementsByTagName('li');
// nav[0].addEventListener('click', Pagination.Prev, false);
// nav[1].addEventListener('click', Pagination.Next, false);

var el = document.getElementById('pagination');

elAntes = document.createElement('li');
elAntes.classList.add('page-item');

elAntesLink = document.createElement('a');
elAntesLink.classList.add('page-link');
elAntesLink.innerHTML = 'antes';
elAntes.appendChild(elAntesLink);

el.insertBefore(elAntes, el.firstChild);

elDepois = document.createElement('li');
elDepois.classList.add('page-item');

elDepoisLink = document.createElement('a');
elDepoisLink.classList.add('page-link');
elDepoisLink.innerHTML = 'antes';
elDepois.appendChild(elDepoisLink);

el.appendChild(elDepois);

elAntes.addEventListener('click', Pagination.Prev, false);
elDepois.addEventListener('click', Pagination.Next, false);
},

// create skeleton
Create: function(e) {

var html = [

`<li class="page-item"><a class="page-link" href="#">&#9668;</a></li>`, // previous button
`<li class="page-item"><a class="page-link" href="#">&#9658;</a></li>`  // next button
];

e.innerHTML = html.join('');
Pagination.e = e;

},

// init
Init: function(e, data) {
Pagination.Extend(data);
Pagination.Create(e);
Pagination.Start();


}


};



/* * * * * * * * * * * * * * * * *
* Initialization
* * * * * * * * * * * * * * * * */

var init = function() {
Pagination.Init(document.getElementById('pagination'), {
size: 30, // pages size
page: 1,  // selected page
step: 2   // pages before and after current
});


};

document.addEventListener('DOMContentLoaded', init, false);

        </script>
    </body>
</html>