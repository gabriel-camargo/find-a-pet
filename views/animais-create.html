<!DOCTYPE html>

<html lang="pt" dir="ltr">

    <head>
        {include="pages/header"}
        <link rel="stylesheet" href="/node_modules/croppie/croppie.css">
        <style>
            .required{
                color: #ff1744;
                font-size: 20pt;
                vertical-align: middle;
            }
        </style>
    </head>

    <body>
        {include="pages/navbar"}

        <div class="container my-3">
            <div class="card border-success">
                <h5 class="card-header bg-success text-white">Adicionar animal</h5>

                <div class="card-body px-4">
                    <form method="POST" onsubmit="animalController.createAnimal(event)" id="form-create-animal">

                        <p id="div-alert-erro"></p>

                        <!-- LINHA DO NOME E DA FOTO -->
                        <div class="form-row">

                            <!-- INPUT DA FOTO  -->
                            <div class="col-lg-4 col-md-12 form-group">                                
                                <!-- PREVIEW DA IMAGEM -->
                                <div id="image_demo" class="mt-3" style="height:290px"></div>
                                <!-- INPUT -->
                                <div class="px-3 my-2">
                                    <div class="custom-file">
                                        <input id="inputFotoAnimal" type="file" class="custom-file-input" name="upload_image"
                                            accept="image/*" onchange="animalController.loadImage(this)"/>

                                        <label class="custom-file-label" for="customFile">
                                            Escolher foto
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <!-- ./ INPUT DA FOTO -->

                            <!-- LINHA DO NOME, ESPECIE E STATUS -->
                            <div class="col-lg-8 col-md-12 form-group">

                                <!-- INPUT DO NOME  -->
                                <div class="form-row mt-1">
                                    <label for="inputNomeAnimal">Nome
                                        <span class="required">*</span>
                                    </label>
                                    <input name="ani_nome" type="text" class="form-control" id="inputNomeAnimal"
                                        placeholder="Insira o nome do animal" required>
                                </div>

                                <!-- INPUT DA ESPECIE -->
                                <div class="form-row mt-1">
                                        <label for="inputEspecieAnimal">Especie  <span class="required">*</span></label>
                                        <select name="esp_id" id="inputEspecieAnimal" class="custom-select">
                                            <option selected value=""> --- Selecione a espécie --- </option>                                        
                                            {loop="$especies"}
                                                <option value="{$value.esp_id}">{$value.esp_nome}</option>
                                            {/loop}
                                        </select>
                                </div>

                                <!-- INPUT DO STATUS -->
                                <div class="form-row mt-1">
                                        <label for="inputStatusAnimal">Status  <span class="required">*</span></label>
                                        <select name="ani_status" id="inputStatusAnimal" class="custom-select">
                                            <option selected value=""> --- Selecione o status --- </option>
                                            {loop="$status"}
                                                <option value="{$key}">{$value}</option>
                                            {/loop}
                                        </select>
                                </div>
                            </div>
                            <!-- ./LINHA DO NOME, ESPECIE E STATUS -->
                        </div>
                        <!-- ./FORM-ROW -->

                        <!-- LINHA DA FAIXA ETÁRIA E SEXO -->
                        <div class="form-row">

                            <!-- INPUT DO SEXO -->
                            <div class="col-lg-4 md-12 form-group">
                                    <label for=""> Sexo  <span class="required">*</span> </label>
                                    <br>
                                    <div class="custom-control custom-radio custom-control-inline mt-2">
                                        <input value="F" type="radio" id="ani_sexo_f" name="ani_sexo" class="custom-control-input">
                                        <label class="custom-control-label" for="ani_sexo_f">Fêmea</label>
                                    </div>
                                    <div class="custom-control custom-radio custom-control-inline">
                                        <input value="M" type="radio" id="ani_sexo_m" name="ani_sexo" class="custom-control-input">
                                        <label class="custom-control-label" for="ani_sexo_m">Macho</label>
                                    </div>
                            </div>

                            <!-- INPUT DA FAIXA ETÁRIA -->
                            <div class="col-lg-4 md-12 form-group">
                                    <label for="inputFaixaEtaria"> Faixa etária  <span class="required">*</span></label>
                                    <select name="ani_faixa_etaria" id="inputFaixaEtaria" class="custom-select">
                                        <option selected value=""> --- Selecione a faixa etária --- </option>
                                        {loop="$faixa_etaria"}
                                            <option value="{$key}">{$value}</option>
                                        {/loop}
                                    </select>
                            </div>

                             <!-- INPUT DO PORTE -->
                             <div class="col-lg-4 md-12 form-group">
                                    <label for="inputPorteAnimal">Porte  <span class="required">*</span></label>
                                    <select name="ani_porte" id="inputPorteAnimal" class="custom-select">
                                        <option selected value=""> --- Selecione o porte --- </option>
                                        {loop="$porte"}
                                            <option value="{$key}">{$value}</option>
                                        {/loop}
                                    </select>
                            </div>                            

                        </div>
                        <!-- ./FORM-ROW -->

                        <!-- INPUT DE OUTRAS INFORMAÇÕES -->
                        <div class="form-row">
                            <div class="col form-group">
                                <label for="inputInformacoesAnimal"> Outras informações </label>
                                <textarea name="ani_informacoes" class="form-control" id="inputInformacoesAnimal" rows="5"
                                placeholder="Escreva um texto que informe para as pessoas sobre características sobre seu animal :)"></textarea>
                                          
                            </div>
                        </div>

                        <div class="row">
                            <div class="col">
                                    <button type="submit" class="btn btn-success px-4"> Salvar</button>
                            </div>
                            <div class="col text-right">
                                <span style="color: #ff1744">
                                     <span class="required">*</span> Campos obrigatórios 
                                </span>
                            </div>
                        </div>
                        
                    </form>

                </div>
            </div>
        </div>        

        {include="pages/footer"}
        
        <script src="/node_modules/exif-js/exif.js"></script>
        <script src="/node_modules/croppie/croppie.js"></script>
        <script src="/res/js/model/Animal.js"></script>
        <script src="/res/js/controller/AnimalController.js"></script>
        <script>

            let animalController = new AnimalController();

        </script>
    </body>
</html>